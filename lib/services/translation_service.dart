import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../providers/theme_provider.dart';

class TranslationService {
  static final Map<String, Map<String, String>> _localizedValues = {
    'en': {
      'app_title': 'BiblioGenius',
      'dashboard': 'Dashboard',
      'home': 'Home',
      'library': 'Library',
      'contacts': 'Contacts',
      'p2p': 'P2P',
      'network': 'Network',
      'requests': 'Requests',
      'books': 'Books',
      'profile': 'My Profile',
      'librarian': 'Librarian',
      'individual': 'Individual',
      'professional': 'Professional',
      'loans': 'Loans',
      'edits': 'Edits',
      'next_level_progress': 'Next Level Progress',
      'to_next_level': 'to next level',
      'profile_settings': 'Profile Settings',
      'profile_type': 'Profile Type',
      'show_borrowed_books': 'Show borrowed books',
      'show_borrowed_subtitle': 'Include borrowed books in your library view',
      'data_management': 'Data Management',
      'export_backup': 'Export Library Backup',
      'import_csv': 'Import CSV (Goodreads, LibraryThing, Babelio)',
      'app_settings': 'App Settings',
      'logout': 'Logout',
      'customize_avatar': 'Customize Avatar',
      'save_changes': 'Save Changes',
      'cancel': 'Cancel',
      'edit_settings': 'Edit Settings',
      'settings_dialog_title': 'Edit App Settings',
      'settings_dialog_body': 'Do you want to modify your app settings? This will take you to the setup wizard to update your theme and library preferences.',
      'import_success': 'Successfully imported books!',
      'import_fail': 'Import failed',
      'export_success': 'Backup prepared',
      'export_fail': 'Export failed',
      'error': 'Error',
      'no_data': 'No data',
    },
    'fr': {
      'app_title': 'BiblioGenius',
      'dashboard': 'Tableau de bord',
      'home': 'Accueil',
      'library': 'Bibliothèque',
      'contacts': 'Contacts',
      'p2p': 'P2P',
      'network': 'Réseau',
      'requests': 'Demandes',
      'books': 'Livres',
      'profile': 'Mon Profil',
      'librarian': 'Bibliothécaire',
      'individual': 'Particulier',
      'professional': 'Professionnel',
      'loans': 'Prêts',
      'edits': 'Modifications',
      'next_level_progress': 'Progression',
      'to_next_level': 'pour le niveau suivant',
      'profile_settings': 'Paramètres du profil',
      'profile_type': 'Type de profil',
      'show_borrowed_books': 'Afficher les livres empruntés',
      'show_borrowed_subtitle': 'Inclure les livres empruntés dans la vue bibliothèque',
      'data_management': 'Gestion des données',
      'export_backup': 'Exporter une sauvegarde',
      'import_csv': 'Importer un CSV (Goodreads, LibraryThing, Babelio)',
      'app_settings': 'Paramètres de l\'application',
      'logout': 'Se déconnecter',
      'customize_avatar': 'Personnaliser l\'avatar',
      'save_changes': 'Enregistrer',
      'cancel': 'Annuler',
      'edit_settings': 'Modifier les paramètres',
      'settings_dialog_title': 'Modifier les paramètres',
      'settings_dialog_body': 'Voulez-vous modifier les paramètres de l\'application ? Cela vous ramènera à l\'assistant de configuration.',
      'import_success': 'Livres importés avec succès !',
      'import_fail': 'Échec de l\'importation',
      'export_success': 'Sauvegarde prête',
      'export_fail': 'Échec de l\'exportation',
      'error': 'Erreur',
      'no_data': 'Aucune donnée',
    },
    'es': {
      'app_title': 'BiblioGenius',
      'dashboard': 'Tablero',
      'home': 'Inicio',
      'library': 'Biblioteca',
      'contacts': 'Contactos',
      'p2p': 'P2P',
      'network': 'Red',
      'requests': 'Solicitudes',
      'books': 'Libros',
      'profile': 'Mi Perfil',
      'librarian': 'Bibliotecario',
      'individual': 'Individual',
      'professional': 'Profesional',
      'loans': 'Préstamos',
      'edits': 'Ediciones',
      'next_level_progress': 'Progreso',
      'to_next_level': 'para el siguiente nivel',
      'profile_settings': 'Configuración del perfil',
      'profile_type': 'Tipo de perfil',
      'show_borrowed_books': 'Mostrar libros prestados',
      'show_borrowed_subtitle': 'Incluir libros prestados en la vista de biblioteca',
      'data_management': 'Gestión de datos',
      'export_backup': 'Exportar copia de seguridad',
      'import_csv': 'Importar CSV',
      'app_settings': 'Configuración de la aplicación',
      'logout': 'Cerrar sesión',
      'customize_avatar': 'Personalizar avatar',
      'save_changes': 'Guardar cambios',
      'cancel': 'Cancelar',
      'edit_settings': 'Editar configuración',
      'settings_dialog_title': 'Editar configuración',
      'settings_dialog_body': '¿Quieres modificar la configuración de la aplicación?',
      'import_success': '¡Libros importados con éxito!',
      'import_fail': 'Fallo en la importación',
      'export_success': 'Copia de seguridad lista',
      'export_fail': 'Fallo en la exportación',
      'error': 'Error',
      'no_data': 'Sin datos',
    },
    'de': {
      'app_title': 'BiblioGenius',
      'dashboard': 'Dashboard',
      'home': 'Startseite',
      'library': 'Bibliothek',
      'contacts': 'Kontakte',
      'p2p': 'P2P',
      'network': 'Netzwerk',
      'requests': 'Anfragen',
      'books': 'Bücher',
      'profile': 'Mein Profil',
      'librarian': 'Bibliothekar',
      'individual': 'Einzelperson',
      'professional': 'Professionell',
      'loans': 'Ausleihen',
      'edits': 'Bearbeitungen',
      'next_level_progress': 'Fortschritt',
      'to_next_level': 'zum nächsten Level',
      'profile_settings': 'Profileinstellungen',
      'profile_type': 'Profiltyp',
      'show_borrowed_books': 'Geliehene Bücher anzeigen',
      'show_borrowed_subtitle': 'Geliehene Bücher in der Bibliothek anzeigen',
      'data_management': 'Datenverwaltung',
      'export_backup': 'Backup exportieren',
      'import_csv': 'CSV importieren',
      'app_settings': 'App-Einstellungen',
      'logout': 'Abmelden',
      'customize_avatar': 'Avatar anpassen',
      'save_changes': 'Speichern',
      'cancel': 'Abbrechen',
      'edit_settings': 'Einstellungen bearbeiten',
      'settings_dialog_title': 'Einstellungen bearbeiten',
      'settings_dialog_body': 'Möchten Sie Ihre App-Einstellungen ändern?',
      'import_success': 'Bücher erfolgreich importiert!',
      'import_fail': 'Import fehlgeschlagen',
      'export_success': 'Backup bereit',
      'export_fail': 'Export fehlgeschlagen',
      'error': 'Fehler',
      'no_data': 'Keine Daten',
    },
  };

  static String translate(BuildContext context, String key) {
    final themeProvider = Provider.of<ThemeProvider>(context);
    final lang = themeProvider.locale.languageCode;
    return _localizedValues[lang]?[key] ?? _localizedValues['en']?[key] ?? key;
  }
}
